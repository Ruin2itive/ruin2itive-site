<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="light" />

  <title>ruin2itive.org</title>
  <meta name="description" content="reliability first • open source • independent" />

  <style>
    :root{
      --paper:#f7f5f1;
      --ink:#151515;
      --muted:#6a6a6a;
      --rule:#cfcac2;
      --accent:#7b1e1e; /* deep red */
      --max:720px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      color:var(--ink);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      font-family: Georgia, "Times New Roman", Times, serif;

      /* subtle paper depth without needing extra files */
      background:
        radial-gradient(1200px 600px at 50% 0%, rgba(0,0,0,.035), rgba(0,0,0,0) 55%),
        radial-gradient(900px 500px at 10% 35%, rgba(0,0,0,.02), rgba(0,0,0,0) 60%),
        radial-gradient(900px 500px at 90% 55%, rgba(0,0,0,.018), rgba(0,0,0,0) 60%),
        linear-gradient(#fbfaf8, var(--paper));
    }

    /* page container */
    .wrap{
      max-width:var(--max);
      margin:0 auto;
      padding:20px 18px 36px;
    }

    /* MASTHEAD IMAGE (full-bleed, integrated) */
    .masthead{
      width:100vw;
      margin-left:50%;
      transform:translateX(-50%);
      margin-top:-20px;     /* gives “hero” presence */
      margin-bottom:28px;   /* more air */
    }
    .masthead img{
      width:100%;
      height:auto;
      display:block;
      border:0;

      /* keep it subtle so it doesn't feel like a “card” */
      box-shadow:0 2px 8px rgba(0,0,0,.05);
      filter:contrast(1.02) saturate(.98);
    }

    /* top rule under masthead */
    .top-rule{
      height:1px;
      background:var(--rule);
      margin:18px 0 26px;
    }

    /* section blocks */
    .section{
      margin:0 0 18px;
      padding:0 0 18px;
      border-bottom:1px solid var(--rule);
    }
    .section:last-of-type{ border-bottom:none; }

    /* section label */
    .kicker{
      margin:0 0 12px;
      font-size:20px;
      letter-spacing:.12em;
      color:var(--accent);
      text-transform:lowercase;
      font-weight:800;
    }
    .kicker .slash{
      color:var(--muted);
      font-weight:500;
      letter-spacing:.08em;
    }

    /* lists */
    .list{
      list-style:none;
      padding:0;
      margin:0;
    }
    .item{
      padding:12px 0 14px;
      border-top:1px solid rgba(0,0,0,.06);
    }
    .item:first-child{ border-top:none; }

    .title{
      margin:0 0 3px;
      font-size:32px;
      line-height:1.02;
      font-weight:800;
      letter-spacing:.01em;
    }
    .meta{
      margin:0;
      color:var(--muted);
      font-size:18px;
      letter-spacing:.02em;
    }

    /* editorial link treatment */
    a{
      color:inherit;
      text-decoration:none;
    }
    .title a{
      border-bottom:2px solid rgba(0,0,0,.10);
      padding-bottom:2px;
    }
    .title a:hover{
      border-bottom-color:var(--accent);
    }

    /* feed rows */
    .feed-row{
      display:flex;
      gap:10px;
      align-items:baseline;
      padding:12px 0 14px;
      border-top:1px solid rgba(0,0,0,.06);
    }
    .feed-row:first-child{ border-top:none; }

    .feed-title{
      margin:0;
      font-size:20px;
      line-height:1.22;
      font-weight:800;
      flex:1 1 auto;
    }
    .feed-title a{
      border-bottom:1px solid rgba(0,0,0,.10);
      padding-bottom:1px;
    }
    .feed-title a:hover{
      border-bottom-color:var(--accent);
    }
    .feed-src{
      font-size:14px;
      color:var(--muted);
      white-space:nowrap;
      flex:0 0 auto;
      letter-spacing:.08em;
      text-transform:lowercase;
    }

    /* “loading” / placeholder copy */
    .loading{
      margin:0;
      color:var(--muted);
      font-style:italic;
      font-size:22px;
      padding:6px 0 2px;
    }

    /* subtle page reveal */
    .fade-in{
      animation:fade .22s ease-out both;
    }
    @keyframes fade{
      from{ opacity:0; transform:translateY(6px); }
      to{ opacity:1; transform:translateY(0); }
    }

    footer{
      margin-top:24px;
      padding-top:14px;
      border-top:1px solid var(--rule);
      color:var(--muted);
      font-size:16px;
    }

    @media (max-width:420px){
      .wrap{ padding:18px 16px 30px; }
      .title{ font-size:30px; }
      .meta{ font-size:17px; }
      .kicker{ font-size:18px; letter-spacing:.11em; }
      .feed-title{ font-size:19px; }
    }
  </style>
</head>

<body>
  <div class="wrap fade-in">

    <!-- MASTHEAD (graphic banner) -->
    <header class="masthead" aria-label="ruin2itive masthead">
      <!-- MUST exist in your repo: assets/masthead.webp -->
      <img
        src="assets/masthead.webp"
        alt="ruin2itive — reliability • open source • independent"
        loading="eager"
        decoding="async"
      />
    </header>

    <div class="top-rule"></div>

    <!-- PROJECTS -->
    <section class="section" aria-label="projects">
      <h2 class="kicker">projects <span class="slash">/</span> the code</h2>

      <ul class="list">
        <li class="item">
          <p class="title">
            <a href="https://github.com/Ruin2itive" target="_blank" rel="noopener">ruin2itive</a>
          </p>
          <p class="meta">github • src</p>
        </li>

        <li class="item">
          <p class="title">
            <a href="https://www.hackster.io/" target="_blank" rel="noopener">arduino</a>
          </p>
          <p class="meta">hackster • hardware</p>
        </li>

        <li class="item">
          <p class="title">
            <a href="https://www.instructables.com/" target="_blank" rel="noopener">raspberry_pi</a>
          </p>
          <p class="meta">instructables • diy</p>
        </li>
      </ul>
    </section>

    <!-- MARKETS / CRYPTO -->
    <section class="section" aria-label="markets">
      <h2 class="kicker">markets <span class="slash">/</span> crypto</h2>
      <p id="cryptoLoading" class="loading">curating signal...</p>
      <div id="cryptoFeed" aria-live="polite"></div>
    </section>

    <!-- HACKER NEWS -->
    <section class="section" aria-label="hacker news">
      <h2 class="kicker">hacker news</h2>
      <p id="hnLoading" class="loading">curating signal...</p>
      <div id="hnFeed" aria-live="polite"></div>
    </section>

    <footer>© <span id="year"></span> ruin2itive.org</footer>
  </div>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    function renderFeed(container, items, sourceLabel) {
      container.innerHTML = "";
      if (!items || !items.length) {
        container.innerHTML = '<p class="loading">no items</p>';
        return;
      }

      for (const it of items) {
        const row = document.createElement("div");
        row.className = "feed-row";

        const title = document.createElement("p");
        title.className = "feed-title";

        const a = document.createElement("a");
        a.href = it.url || "#";
        a.target = "_blank";
        a.rel = "noopener";
        a.textContent = it.title || "untitled";

        title.appendChild(a);

        const src = document.createElement("div");
        src.className = "feed-src";
        src.textContent = sourceLabel || "";

        row.appendChild(title);
        row.appendChild(src);
        container.appendChild(row);
      }
    }

    async function loadHomeJson() {
      const res = await fetch("data/home.json", { cache: "no-store" });
      if (!res.ok) throw new Error("home.json not found");
      return await res.json();
    }

    (async function main(){
      const cryptoLoading = document.getElementById("cryptoLoading");
      const hnLoading = document.getElementById("hnLoading");
      const cryptoFeed = document.getElementById("cryptoFeed");
      const hnFeed = document.getElementById("hnFeed");

      try {
        const data = await loadHomeJson();

        cryptoLoading.remove();
        hnLoading.remove();

        renderFeed(cryptoFeed, data?.sections?.crypto || [], "decrypt");
        renderFeed(hnFeed, data?.sections?.hacker || [], "hn");
      } catch (e) {
        cryptoLoading.textContent = "feed offline (data/home.json missing)";
        hnLoading.textContent = "feed offline (data/home.json missing)";
      }
    })();
  </script>
</body>
</html>
